--
-- PostgreSQL database dump
--

-- Dumped from database version 13.9 (Debian 13.9-1.pgdg110+1)
-- Dumped by pg_dump version 14.2

-- Started on 2023-06-30 22:15:09

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 3 (class 2615 OID 2200)
-- Name: public; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA public;


ALTER SCHEMA public OWNER TO postgres;

--
-- TOC entry 3187 (class 0 OID 0)
-- Dependencies: 3
-- Name: SCHEMA public; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON SCHEMA public IS 'standard public schema';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 221 (class 1259 OID 16985)
-- Name: audit_code; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.audit_code (
    id character varying(255) NOT NULL,
    title character varying(255),
    enabled boolean DEFAULT true NOT NULL,
    audit_group_id character varying(255) NOT NULL
);


ALTER TABLE public.audit_code OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 16999)
-- Name: audit_event_template; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.audit_event_template (
    id bigint NOT NULL,
    event_type character varying(255) NOT NULL,
    message_template character varying(1024) NOT NULL,
    audit_code_id character varying(255) NOT NULL
);


ALTER TABLE public.audit_event_template OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 16977)
-- Name: audit_group; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.audit_group (
    id character varying(255) NOT NULL,
    title character varying(255)
);


ALTER TABLE public.audit_group OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 17034)
-- Name: change_email_request; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.change_email_request (
    id bigint NOT NULL,
    token character varying(255) NOT NULL,
    expire_date timestamp without time zone NOT NULL,
    confirmation_date timestamp without time zone,
    new_email character varying(255) NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.change_email_request OWNER TO postgres;

--
-- TOC entry 224 (class 1259 OID 17032)
-- Name: change_email_request_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.change_email_request ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.change_email_request_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 16961)
-- Name: change_password_request; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.change_password_request (
    id bigint NOT NULL,
    token character varying(255) NOT NULL,
    expire_date timestamp without time zone NOT NULL,
    confirmation_date timestamp without time zone,
    new_password character varying(255) NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.change_password_request OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 16959)
-- Name: change_password_request_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.change_password_request ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.change_password_request_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 201 (class 1259 OID 16836)
-- Name: databasechangelog; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.databasechangelog (
    id character varying(255) NOT NULL,
    author character varying(255) NOT NULL,
    filename character varying(255) NOT NULL,
    dateexecuted timestamp without time zone NOT NULL,
    orderexecuted integer NOT NULL,
    exectype character varying(10) NOT NULL,
    md5sum character varying(35),
    description character varying(255),
    comments character varying(255),
    tag character varying(255),
    liquibase character varying(20),
    contexts character varying(255),
    labels character varying(255),
    deployment_id character varying(10)
);


ALTER TABLE public.databasechangelog OWNER TO postgres;

--
-- TOC entry 200 (class 1259 OID 16713)
-- Name: databasechangeloglock; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.databasechangeloglock (
    id integer NOT NULL,
    locked boolean NOT NULL,
    lockgranted timestamp without time zone,
    lockedby character varying(255)
);


ALTER TABLE public.databasechangeloglock OWNER TO postgres;

--
-- TOC entry 213 (class 1259 OID 16918)
-- Name: hibernate_sequence; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.hibernate_sequence
    START WITH 2
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.hibernate_sequence OWNER TO postgres;

--
-- TOC entry 206 (class 1259 OID 16870)
-- Name: oauth_access_token; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.oauth_access_token (
    token_id character varying(255),
    token bytea,
    authentication_id character varying(255) NOT NULL,
    user_name character varying(255),
    client_id character varying(255),
    authentication bytea,
    refresh_token character varying(255)
);


ALTER TABLE public.oauth_access_token OWNER TO postgres;

--
-- TOC entry 209 (class 1259 OID 16890)
-- Name: oauth_approvals; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.oauth_approvals (
    userid character varying(255),
    clientid character varying(255),
    scope character varying(255),
    status character varying(10),
    expiresat timestamp without time zone,
    lastmodifiedat timestamp without time zone
);


ALTER TABLE public.oauth_approvals OWNER TO postgres;

--
-- TOC entry 204 (class 1259 OID 16854)
-- Name: oauth_client_details; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.oauth_client_details (
    client_id character varying(255) NOT NULL,
    resource_ids character varying(255),
    client_secret character varying(255),
    scope character varying(255),
    authorized_grant_types character varying(255),
    web_server_redirect_uri character varying(255),
    authorities character varying(255),
    access_token_validity integer,
    refresh_token_validity integer,
    additional_information character varying(4096),
    autoapprove character varying(255)
);


ALTER TABLE public.oauth_client_details OWNER TO postgres;

--
-- TOC entry 205 (class 1259 OID 16862)
-- Name: oauth_client_token; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.oauth_client_token (
    token_id character varying(255),
    token bytea,
    authentication_id character varying(255) NOT NULL,
    user_name character varying(255),
    client_id character varying(255)
);


ALTER TABLE public.oauth_client_token OWNER TO postgres;

--
-- TOC entry 208 (class 1259 OID 16884)
-- Name: oauth_code; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.oauth_code (
    code character varying(255),
    authentication bytea
);


ALTER TABLE public.oauth_code OWNER TO postgres;

--
-- TOC entry 207 (class 1259 OID 16878)
-- Name: oauth_refresh_token; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.oauth_refresh_token (
    token_id character varying(255),
    token bytea,
    authentication bytea
);


ALTER TABLE public.oauth_refresh_token OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 16931)
-- Name: reset_password_request; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.reset_password_request (
    id bigint NOT NULL,
    token character varying(255) NOT NULL,
    expire_date timestamp without time zone NOT NULL,
    reset_date timestamp without time zone,
    user_id bigint NOT NULL
);


ALTER TABLE public.reset_password_request OWNER TO postgres;

--
-- TOC entry 214 (class 1259 OID 16929)
-- Name: reset_password_request_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.reset_password_request ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.reset_password_request_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 223 (class 1259 OID 17022)
-- Name: retry_request; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.retry_request (
    id bigint NOT NULL,
    request_type character varying(255) NOT NULL,
    request_id character varying(255),
    request text NOT NULL,
    tx_id character varying(255),
    retries integer DEFAULT 0,
    max_retries integer DEFAULT '-1'::integer,
    created_at timestamp without time zone NOT NULL,
    retry_at timestamp without time zone
);


ALTER TABLE public.retry_request OWNER TO postgres;

--
-- TOC entry 211 (class 1259 OID 16898)
-- Name: role_entity; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.role_entity (
    id bigint NOT NULL,
    role_name character varying(255) NOT NULL,
    description character varying(255)
);


ALTER TABLE public.role_entity OWNER TO postgres;

--
-- TOC entry 210 (class 1259 OID 16896)
-- Name: role_entity_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.role_entity ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.role_entity_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 227 (class 1259 OID 17062)
-- Name: tfa_code; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tfa_code (
    id bigint NOT NULL,
    token character varying(255) NOT NULL,
    expire_date timestamp without time zone NOT NULL,
    authentication text NOT NULL,
    user_id bigint NOT NULL,
    code character varying(255) NOT NULL
);


ALTER TABLE public.tfa_code OWNER TO postgres;

--
-- TOC entry 226 (class 1259 OID 17060)
-- Name: tfa_code_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tfa_code ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tfa_code_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 203 (class 1259 OID 16846)
-- Name: user_entity; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_entity (
    id bigint NOT NULL,
    login character varying(255) NOT NULL,
    password character varying(255) NOT NULL,
    creation_date timestamp without time zone,
    email character varying(255) NOT NULL,
    first_name character varying(255) NOT NULL,
    tfa_enabled boolean DEFAULT false,
    password_change_date timestamp without time zone,
    last_name character varying(255) NOT NULL,
    middle_name character varying(255) NOT NULL,
    locked boolean DEFAULT false,
    force_change_password boolean DEFAULT false,
    push_enabled boolean DEFAULT true
);


ALTER TABLE public.user_entity OWNER TO postgres;

--
-- TOC entry 202 (class 1259 OID 16844)
-- Name: user_entity_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.user_entity ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_entity_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 16946)
-- Name: user_photo; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_photo (
    id bigint NOT NULL,
    file_name character varying(255),
    file_extension character varying(255),
    photo bytea,
    user_id bigint NOT NULL
);


ALTER TABLE public.user_photo OWNER TO postgres;

--
-- TOC entry 216 (class 1259 OID 16944)
-- Name: user_photo_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.user_photo ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_photo_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 212 (class 1259 OID 16903)
-- Name: user_role; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_role (
    user_id bigint NOT NULL,
    role_id bigint NOT NULL
);


ALTER TABLE public.user_role OWNER TO postgres;

--
-- TOC entry 3175 (class 0 OID 16985)
-- Dependencies: 221
-- Data for Name: audit_code; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.audit_code (id, title, enabled, audit_group_id) FROM stdin;
ENABLE_2FA	Включение двухфакторной аутентификации	t	USER_PROFILE_ACTIONS
DISABLE_2FA	Выключение двухфакторной аутентификации	t	USER_PROFILE_ACTIONS
UPDATE_PERSONAL_DATA	Изменение персональных данных	t	USER_PROFILE_ACTIONS
UPDATE_PHOTO	Изменение фотографии профиля	t	USER_PROFILE_ACTIONS
DELETE_PHOTO	Удаление фотографии профиля	t	USER_PROFILE_ACTIONS
CREATE_USER	Создание нового пользователя в системе	t	USER_PROFILE_ACTIONS
LOCK_USER	Блокировка пользователя	t	USER_PROFILE_ACTIONS
UNLOCK_USER	Снятие блокировки пользователя	t	USER_PROFILE_ACTIONS
CREATE_CHANGE_PASSWORD_REQUEST	Создание запроса на изменение пароля	t	USER_PROFILE_ACTIONS
CONFIRM_CHANGE_PASSWORD_REQUEST	Подтверждение запроса на изменение пароля	t	USER_PROFILE_ACTIONS
CREATE_RESET_PASSWORD_REQUEST	Создание запроса на сброс пароля	t	USER_PROFILE_ACTIONS
RESET_PASSWORD	Сброс пароля	t	USER_PROFILE_ACTIONS
CREATE_CHANGE_EMAIL_REQUEST	Создание запроса на изменение Email	t	USER_PROFILE_ACTIONS
CONFIRM_CHANGE_EMAIL_REQUEST	Подтверждение запроса на изменение Email	t	USER_PROFILE_ACTIONS
ENABLE_PUSH_NOTIFICATIONS	Включение пуш уведомлений	t	USER_PROFILE_ACTIONS
DISABLE_PUSH_NOTIFICATIONS	Выключение пуш уведомлений	t	USER_PROFILE_ACTIONS
\.


--
-- TOC entry 3176 (class 0 OID 16999)
-- Dependencies: 222
-- Data for Name: audit_event_template; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.audit_event_template (id, event_type, message_template, audit_code_id) FROM stdin;
1	SUCCESS	Включена двухфакторная аутентификация	ENABLE_2FA
2	SUCCESS	Выключена двухфакторная аутентификация	DISABLE_2FA
3	SUCCESS	Персональные данные были изменены	UPDATE_PERSONAL_DATA
4	SUCCESS	Создан запрос на изменение Email адреса на [${newEmail}]	CREATE_CHANGE_EMAIL_REQUEST
5	SUCCESS	Обновлена фотография профиля	UPDATE_PHOTO
6	SUCCESS	Удалена фотография профиля	DELETE_PHOTO
7	SUCCESS	Создан новый пользователь [${createUserDto.login}]	CREATE_USER
8	SUCCESS	Пользователь [${returnValue.login}] был заблокирован	LOCK_USER
9	SUCCESS	Блокировка пользователя [${returnValue.login}] была снята	UNLOCK_USER
10	SUCCESS	Создан запрос на изменение пароля	CREATE_CHANGE_PASSWORD_REQUEST
11	SUCCESS	Пароль был изменен	CONFIRM_CHANGE_PASSWORD_REQUEST
12	SUCCESS	Создан запрос на сброс пароля	CREATE_RESET_PASSWORD_REQUEST
13	SUCCESS	Пароль был сброшен	RESET_PASSWORD
14	SUCCESS	Email адрес был изменен на [${returnValue.userEntity.email}]	CONFIRM_CHANGE_EMAIL_REQUEST
15	SUCCESS	Включены пуш уведомления	ENABLE_PUSH_NOTIFICATIONS
16	SUCCESS	Выключены пуш уведомления	DISABLE_PUSH_NOTIFICATIONS
\.


--
-- TOC entry 3174 (class 0 OID 16977)
-- Dependencies: 220
-- Data for Name: audit_group; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.audit_group (id, title) FROM stdin;
USER_PROFILE_ACTIONS	Действия пользователя в личном кабинете
\.


--
-- TOC entry 3179 (class 0 OID 17034)
-- Dependencies: 225
-- Data for Name: change_email_request; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.change_email_request (id, token, expire_date, confirmation_date, new_email, user_id) FROM stdin;
\.


--
-- TOC entry 3173 (class 0 OID 16961)
-- Dependencies: 219
-- Data for Name: change_password_request; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.change_password_request (id, token, expire_date, confirmation_date, new_password, user_id) FROM stdin;
\.


--
-- TOC entry 3155 (class 0 OID 16836)
-- Dependencies: 201
-- Data for Name: databasechangelog; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.databasechangelog (id, author, filename, dateexecuted, orderexecuted, exectype, md5sum, description, comments, tag, liquibase, contexts, labels, deployment_id) FROM stdin;
1	roman.batygin@mail.ru	db/changelog/000000000001.xml	2023-06-30 21:50:42.288311	1	EXECUTED	8:a759fcf262938909cf297691a212134d	createTable tableName=user_entity		\N	3.7.0	schema	\N	8136641946
2	roman.batygin@mail.ru	db/changelog/000000000001.xml	2023-06-30 21:50:42.318659	2	EXECUTED	8:f6d82a741e29a91cbbbdcee5460cb915	insert tableName=user_entity		\N	3.7.0	data	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/000000000002.xml	2023-06-30 21:50:42.35854	3	EXECUTED	8:ab4a4d10f10f8f707545891bf3306c3f	createTable tableName=oauth_client_details		\N	3.7.0	schema	\N	8136641946
2	roman.batygin@mail.ru	db/changelog/000000000002.xml	2023-06-30 21:50:42.465329	4	EXECUTED	8:184b40c11602478190dd0e17b59d25d1	createTable tableName=oauth_client_token		\N	3.7.0	schema	\N	8136641946
3	roman.batygin@mail.ru	db/changelog/000000000002.xml	2023-06-30 21:50:42.513722	5	EXECUTED	8:75f080fed57105c1cf289f8b8d42526b	createTable tableName=oauth_access_token		\N	3.7.0	schema	\N	8136641946
4	roman.batygin@mail.ru	db/changelog/000000000002.xml	2023-06-30 21:50:42.539375	6	EXECUTED	8:f7ab2909955a365d3c180a34d142f6ad	createTable tableName=oauth_refresh_token		\N	3.7.0	schema	\N	8136641946
5	roman.batygin@mail.ru	db/changelog/000000000002.xml	2023-06-30 21:50:42.56186	7	EXECUTED	8:bbf4ebc7b031856428475aa209a44cb9	createTable tableName=oauth_code		\N	3.7.0	schema	\N	8136641946
6	roman.batygin@mail.ru	db/changelog/000000000002.xml	2023-06-30 21:50:42.596636	8	EXECUTED	8:8f0a111cb05779e31f5ebc58083f2820	createTable tableName=oauth_approvals		\N	3.7.0	schema	\N	8136641946
7	roman.batygin@mail.ru	db/changelog/000000000002.xml	2023-06-30 21:50:42.614594	9	EXECUTED	8:d495bf27ff12450b205a740d3f080fbe	insert tableName=oauth_client_details		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/000000000003.xml	2023-06-30 21:50:42.641184	10	EXECUTED	8:0755f5c1ecccc373a5944a871c55ce87	createTable tableName=role_entity		\N	3.7.0	schema	\N	8136641946
2	roman.batygin@mail.ru	db/changelog/000000000003.xml	2023-06-30 21:50:42.680569	11	EXECUTED	8:2b8e01bf978755d8a64ea140203a45f2	createTable tableName=user_role		\N	3.7.0	schema	\N	8136641946
3	roman.batygin@mail.ru	db/changelog/000000000003.xml	2023-06-30 21:50:42.700954	12	EXECUTED	8:add11a487d818ca26b03b44df66aae2b	addColumn tableName=user_entity		\N	3.7.0	schema	\N	8136641946
4	roman.batygin@mail.ru	db/changelog/000000000003.xml	2023-06-30 21:50:42.720608	13	EXECUTED	8:cbdeff2f3148a56281a7bcdc9831498e	addColumn tableName=user_entity		\N	3.7.0	schema	\N	8136641946
5	roman.batygin@mail.ru	db/changelog/000000000003.xml	2023-06-30 21:50:42.732986	14	EXECUTED	8:6875ca8ec3244546837fcf9d34242cc4	update tableName=user_entity		\N	3.7.0	data	\N	8136641946
6	roman.batygin@mail.ru	db/changelog/000000000003.xml	2023-06-30 21:50:42.758048	15	EXECUTED	8:4a84a43f97c494bc48bda101ec133c8d	insert tableName=role_entity		\N	3.7.0	data	\N	8136641946
7	roman.batygin@mail.ru	db/changelog/000000000003.xml	2023-06-30 21:50:42.770703	16	EXECUTED	8:412c3dc7f3c7b127c467dd855c3d44ad	insert tableName=user_role		\N	3.7.0	data	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/000000000004.xml	2023-06-30 21:50:42.811673	17	EXECUTED	8:108b1f3663086f8f2008675e82ffd49f	update tableName=oauth_client_details		\N	3.7.0	schema	\N	8136641946
2	roman.batygin@mail.ru	db/changelog/000000000004.xml	2023-06-30 21:50:42.8286	18	EXECUTED	8:54d6b12ee42bd17de26750b24b17f217	insert tableName=oauth_client_details		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/000000000005.xml	2023-06-30 21:50:42.849205	19	EXECUTED	8:15f15e181d83cae15e482fee9db6e4ed	insert tableName=oauth_client_details		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v5-change-token-validity-time.xml	2023-06-30 21:50:42.860064	20	EXECUTED	8:4c6688397cdae7b8645f983c8a67e83e	update tableName=oauth_client_details		\N	3.7.0	schema	\N	8136641946
2	roman.batygin@mail.ru	db/changelog/v5-change-token-validity-time.xml	2023-06-30 21:50:42.875035	21	EXECUTED	8:457212c72d1ee566ae5917545abbb391	update tableName=oauth_client_details		\N	3.7.0	schema	\N	8136641946
3	roman.batygin@mail.ru	db/changelog/v5-change-token-validity-time.xml	2023-06-30 21:50:42.885586	22	EXECUTED	8:5910f6914c198ba6f9cc72c662a36e41	update tableName=oauth_client_details		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v6-remove-eca-credentials.xml	2023-06-30 21:50:42.915696	23	EXECUTED	8:06a5c3e2ee51c6bea74d0431a542a1b9	delete tableName=oauth_client_details		\N	3.7.0	schema	\N	8136641946
2	roman.batygin@mail.ru	db/changelog/v6-remove-eca-credentials.xml	2023-06-30 21:50:42.955693	24	EXECUTED	8:80872912dbffb9ccc8e669574d75b337	update tableName=oauth_client_details		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v7-add-eca-user-role.xml	2023-06-30 21:50:43.001871	25	EXECUTED	8:4046a0c9fee212b7eb3d6208011b2052	insert tableName=role_entity		\N	3.7.0	data	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v8-create-hibernate-sequence.xml	2023-06-30 21:50:43.047593	26	EXECUTED	8:a6aad8542192beb357800d656c05ac76	createSequence sequenceName=hibernate_sequence		\N	3.7.0	\N	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v9-add-role-description-column.xml	2023-06-30 21:50:43.081383	27	EXECUTED	8:193d9325e24386090e2fbe00b09c1328	addColumn tableName=role_entity		\N	3.7.0	schema	\N	8136641946
2	roman.batygin@mail.ru	db/changelog/v9-add-role-description-column.xml	2023-06-30 21:50:43.098321	28	EXECUTED	8:79ada63b361ac2ab6f810eae767a9cfe	update tableName=role_entity		\N	3.7.0	data	\N	8136641946
3	roman.batygin@mail.ru	db/changelog/v9-add-role-description-column.xml	2023-06-30 21:50:43.126533	29	EXECUTED	8:6c41c0f2abad18776936ca2acb88bbd9	update tableName=role_entity		\N	3.7.0	data	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v10-add-user-constraints.xml	2023-06-30 21:50:43.147642	30	EXECUTED	8:10adee7c439d7de85b16ed3d48863e79	addNotNullConstraint columnName=role_name, tableName=role_entity		\N	3.7.0	schema	\N	8136641946
2	roman.batygin@mail.ru	db/changelog/v10-add-user-constraints.xml	2023-06-30 21:50:43.175069	31	EXECUTED	8:f3cbfba10ecaf1726f8856f688d731b9	addUniqueConstraint constraintName=role_name_unique_index, tableName=role_entity		\N	3.7.0	schema	\N	8136641946
3	roman.batygin@mail.ru	db/changelog/v10-add-user-constraints.xml	2023-06-30 21:50:43.193581	32	EXECUTED	8:ca39afd4aa740146124cb239fde1d67f	addNotNullConstraint columnName=login, tableName=user_entity		\N	3.7.0	schema	\N	8136641946
4	roman.batygin@mail.ru	db/changelog/v10-add-user-constraints.xml	2023-06-30 21:50:43.22372	33	EXECUTED	8:cf76edc99522f50c9bb3d1f0471fe5e2	addUniqueConstraint constraintName=login_unique_index, tableName=user_entity		\N	3.7.0	schema	\N	8136641946
5	roman.batygin@mail.ru	db/changelog/v10-add-user-constraints.xml	2023-06-30 21:50:43.254154	34	EXECUTED	8:79b8d6187c79fd431e49642b93cac0fb	addNotNullConstraint columnName=email, tableName=user_entity		\N	3.7.0	schema	\N	8136641946
6	roman.batygin@mail.ru	db/changelog/v10-add-user-constraints.xml	2023-06-30 21:50:43.28936	35	EXECUTED	8:22dcf035fad7b79f5264c52e1f76f4a0	addUniqueConstraint constraintName=email_unique_index, tableName=user_entity		\N	3.7.0	schema	\N	8136641946
7	roman.batygin@mail.ru	db/changelog/v10-add-user-constraints.xml	2023-06-30 21:50:43.306855	36	EXECUTED	8:d4dcf62503baa872851bbbb434518225	addNotNullConstraint columnName=first_name, tableName=user_entity		\N	3.7.0	schema	\N	8136641946
8	roman.batygin@mail.ru	db/changelog/v10-add-user-constraints.xml	2023-06-30 21:50:43.322232	37	EXECUTED	8:d2ff33cb559931cbba7825c321d3c66c	addNotNullConstraint columnName=password, tableName=user_entity		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v11-create-reset-password-request-table.xml	2023-06-30 21:50:43.358191	38	EXECUTED	8:8496f137026a4e0ec94d450cf8088cdc	createTable tableName=reset_password_request		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v12-create-tfa-enabled-column.xml	2023-06-30 21:50:43.377565	39	EXECUTED	8:42dac6cdf009aa98be30ab82f9968fbd	addColumn tableName=user_entity		\N	3.7.0	schema	\N	8136641946
2	roman.batygin@mail.ru	db/changelog/v12-create-tfa-enabled-column.xml	2023-06-30 21:50:43.387198	40	EXECUTED	8:02fe613bb98cecba5c91e1cb56b9c42b	update tableName=oauth_client_details		\N	3.7.0	data	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v13-create-user-photo-table.xml	2023-06-30 21:50:43.46085	41	EXECUTED	8:2e8ce162e5b8a0cb20079bd5d64fb1db	createTable tableName=user_photo		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v14-insert-external-api-credentials.xml	2023-06-30 21:50:43.46984	42	EXECUTED	8:f9eaeacb0ab328bd07513c9b21136797	insert tableName=oauth_client_details		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v15-create-change-password-request-table.xml	2023-06-30 21:50:43.496681	43	EXECUTED	8:d631c9509925c0c9e5b7bd04aed77730	createTable tableName=change_password_request		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v16-add-user-password-date-column.xml	2023-06-30 21:50:43.50459	44	EXECUTED	8:0010e766624c8b298005deaff077247f	addColumn tableName=user_entity		\N	3.7.0	schema	\N	8136641946
2	roman.batygin@mail.ru	db/changelog/v16-add-user-password-date-column.xml	2023-06-30 21:50:43.528241	45	EXECUTED	8:636d5139654bdaf55af5e8d5bdc6b1f5	update tableName=user_entity		\N	3.7.0	data	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v17-add-user-last-name-column.xml	2023-06-30 21:50:43.540552	46	EXECUTED	8:e884cde8c562275d4edcf1474a0ff1c3	addColumn tableName=user_entity		\N	3.7.0	schema	\N	8136641946
2	roman.batygin@mail.ru	db/changelog/v17-add-user-last-name-column.xml	2023-06-30 21:50:43.556863	47	EXECUTED	8:e9776b971451d07c84fae4ce70ec4b4b	addColumn tableName=user_entity		\N	3.7.0	schema	\N	8136641946
3	roman.batygin@mail.ru	db/changelog/v17-add-user-last-name-column.xml	2023-06-30 21:50:43.57248	48	EXECUTED	8:c0d8fb45dc15fc29d0a0e0527750abd6	update tableName=user_entity		\N	3.7.0	schema	\N	8136641946
4	roman.batygin@mail.ru	db/changelog/v17-add-user-last-name-column.xml	2023-06-30 21:50:43.580967	49	EXECUTED	8:daaa665edf0bb49b4e5220c2ec405cb4	addNotNullConstraint columnName=last_name, tableName=user_entity		\N	3.7.0	schema	\N	8136641946
5	roman.batygin@mail.ru	db/changelog/v17-add-user-last-name-column.xml	2023-06-30 21:50:43.591077	50	EXECUTED	8:599d7020f0ee04d4bfc8e63aee0680d3	addNotNullConstraint columnName=middle_name, tableName=user_entity		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v18-add-user-locked-column.xml	2023-06-30 21:50:43.600743	51	EXECUTED	8:825ff8963272008f1b7e0767b70b9a23	addColumn tableName=user_entity		\N	3.7.0	schema	\N	8136641946
create_audit_group_table	roman.batygin@mail.ru	classpath:db/../audit-changelog.xml	2023-06-30 21:50:43.637648	52	EXECUTED	8:112e0769f50b6016ed2ef835793f4bf0	createTable tableName=audit_group		\N	3.7.0	schema	\N	8136641946
create_audit_code_table	roman.batygin@mail.ru	classpath:db/../audit-changelog.xml	2023-06-30 21:50:43.687714	53	EXECUTED	8:904288ce7cefab647509b310c5715a82	createTable tableName=audit_code		\N	3.7.0	schema	\N	8136641946
create_audit_event_template_table	roman.batygin@mail.ru	classpath:db/../audit-changelog.xml	2023-06-30 21:50:43.727185	54	EXECUTED	8:f44dbaff8192c97b691c220bf0fa9181	createTable tableName=audit_event_template		\N	3.7.0	schema	\N	8136641946
add_audit_event_template_code_id_event_type_unique_index	roman.batygin@mail.ru	classpath:db/../audit-changelog.xml	2023-06-30 21:50:43.767191	55	EXECUTED	8:70743a754f4bb16fff3ecd33d25acae3	addUniqueConstraint constraintName=audit_event_template_code_id_event_type_unique_index, tableName=audit_event_template		\N	3.7.0	schema	\N	8136641946
create_audit_event_request_table	roman.batygin@mail.ru	classpath:db/../audit-changelog.xml	2023-06-30 21:50:43.813379	56	EXECUTED	8:950918154a4b4a51c4549de8ec9f8427	createTable tableName=audit_event_request		\N	3.7.0	schema	\N	8136641946
add_correlation_id_column_in_audit_event_request_table	roman.batygin@mail.ru	classpath:db/../audit-changelog.xml	2023-06-30 21:50:43.824885	57	EXECUTED	8:9dc73daf828a4cdf30ed23fd5899321d	addColumn tableName=audit_event_request		\N	3.7.0	schema	\N	8136641946
drop_audit_event_request_table	roman.batygin@mail.ru	classpath:db/../audit-changelog.xml	2023-06-30 21:50:43.844876	58	EXECUTED	8:9e3dfc52bdb8f4eac4a39d460d561000	dropTable tableName=audit_event_request		\N	3.7.0	schema	\N	8136641946
create_retry_request_table	roman.batygin@mail.ru	classpath:db/../redelivery-changelog.xml	2023-06-30 21:50:43.881119	59	EXECUTED	8:f83ceeb7d4537c55a66b655ec31e6bb8	createTable tableName=retry_request		\N	3.7.0	schema	\N	8136641946
add_retry_at_column_in_retry_request_table	roman.batygin@mail.ru	classpath:db/../redelivery-changelog.xml	2023-06-30 21:50:43.899708	60	EXECUTED	8:5e9a79b47863935b83b6d3a644b656b8	addColumn tableName=retry_request		\N	3.7.0	schema	\N	8136641946
insert_audit_groups_1	roman.batygin@mail.ru	db/changelog/v19-insert-audit-codes-and-events.xml	2023-06-30 21:50:44.329343	61	EXECUTED	8:38adc1bd9a61543a81969bd65f114a59	loadUpdateData tableName=audit_group		\N	3.7.0	data	\N	8136641946
insert_audit_codes_4	roman.batygin@mail.ru	db/changelog/v19-insert-audit-codes-and-events.xml	2023-06-30 21:50:44.776616	62	EXECUTED	8:8520638074cf24bb45d29db0219580e7	loadUpdateData tableName=audit_code		\N	3.7.0	data	\N	8136641946
insert_audit_event_templates_6	roman.batygin@mail.ru	db/changelog/v19-insert-audit-codes-and-events.xml	2023-06-30 21:50:45.117809	63	EXECUTED	8:ff22ccddfbb2c0a9033a5e55e0c2cb57	loadUpdateData tableName=audit_event_template		\N	3.7.0	data	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v20-create-change-email-request-table.xml	2023-06-30 21:50:45.155898	64	EXECUTED	8:ef924b1fe238b073bff3a21a776647d2	createTable tableName=change_email_request		\N	3.7.0	schema	\N	8136641946
2	roman.batygin@mail.ru	db/changelog/v20-create-change-email-request-table.xml	2023-06-30 21:50:45.172043	65	MARK_RAN	8:c31b71e489fcaa11e6d68cf4ed42f9e0	delete tableName=audit_code		\N	3.7.0	data	\N	8136641946
create_email_request_table	roman.batygin@mail.ru	classpath:db/../mail-client-changelog.xml	2023-06-30 21:50:45.209909	66	EXECUTED	8:e24d5e5a0e951172d40d18fbf6f09f33	createTable tableName=email_request		\N	3.7.0	schema	\N	8136641946
add_tx_id_column_to_email_request_table	roman.batygin@mail.ru	classpath:db/../mail-client-changelog.xml	2023-06-30 21:50:45.230366	67	EXECUTED	8:9706f6c02927601dd101b526befee487	addColumn tableName=email_request		\N	3.7.0	schema	\N	8136641946
drop_email_request_table	roman.batygin@mail.ru	classpath:db/../mail-client-changelog.xml	2023-06-30 21:50:45.241559	68	EXECUTED	8:33c5a4c999ec460b79b143c42dfd2f92	dropTable tableName=email_request		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v21-add-force-change-password-column.xml	2023-06-30 21:50:45.253715	69	EXECUTED	8:2a2e2ce014769bd4ae7cf85adb53552f	addColumn tableName=user_entity		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v22-rename-password-date-column.xml	2023-06-30 21:50:45.276684	70	EXECUTED	8:02ad5db425fd9dedfe1b935af22c7354	renameColumn newColumnName=password_change_date, oldColumnName=password_date, tableName=user_entity		\N	3.7.0	schema	\N	8136641946
2	roman.batygin@mail.ru	db/changelog/v22-rename-password-date-column.xml	2023-06-30 21:50:45.286971	71	EXECUTED	8:649865cda75b20b3cdaa4da66a0965e3	update tableName=user_entity		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v23-encode-client-secrets.xml	2023-06-30 21:50:45.307451	72	EXECUTED	8:a95593cd895e432302891175c2006f2a	update tableName=oauth_client_details		\N	3.7.0	data	\N	8136641946
2	roman.batygin@mail.ru	db/changelog/v23-encode-client-secrets.xml	2023-06-30 21:50:45.321844	73	EXECUTED	8:39fe345b46a6fa28ce4755b9544fd712	update tableName=oauth_client_details		\N	3.7.0	data	\N	8136641946
3	roman.batygin@mail.ru	db/changelog/v23-encode-client-secrets.xml	2023-06-30 21:50:45.341669	74	EXECUTED	8:da4da28bda08f2d91e5c1d8c3f2e9a7d	update tableName=oauth_client_details		\N	3.7.0	data	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v24-insert-eca-tech-credentials.xml	2023-06-30 21:50:45.368668	75	EXECUTED	8:43bddd1bea765086d320f2ffb9dc2d7f	insert tableName=oauth_client_details		\N	3.7.0	data	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v25-create-tfa-code-table.xml	2023-06-30 21:50:45.439133	76	EXECUTED	8:ff0221f60033a6d754677dbf26e5b38c	createTable tableName=tfa_code		\N	3.7.0	schema	\N	8136641946
1	roman.batygin@mail.ru	db/changelog/v26-assign-internal-api-scope.xml	2023-06-30 21:50:45.448008	77	EXECUTED	8:3dfc0697b2958104b217902a89c7d7d0	update tableName=oauth_client_details		\N	3.7.0	data	\N	8136641946
add_push_enabled_column_to_user_table	roman.batygin@mail.ru	db/changelog/v27-create-push-enabled-column.xml	2023-06-30 21:50:45.463554	78	EXECUTED	8:0a129bb1a7ffbf17e6f57d931c29ab50	addColumn tableName=user_entity		\N	3.7.0	schema	\N	8136641946
added_code_column_to_tfa_code_table	roman.batygin@mail.ru	db/changelog/v28-added-code-column-to-tfa-code-table.xml	2023-06-30 21:50:45.483785	79	EXECUTED	8:e876f0a169627c6a41833981682a763c	addColumn tableName=tfa_code		\N	3.7.0	schema	\N	8136641946
change_authentication_column_type_in_tfa_code_table	roman.batygin@mail.ru	db/changelog/v28-added-code-column-to-tfa-code-table.xml	2023-06-30 21:50:45.515019	80	EXECUTED	8:bb4d732dfab15c2497fac47fa12dc428	modifyDataType columnName=authentication, tableName=tfa_code		\N	3.7.0	schema	\N	8136641946
add_tfa_authentication_column_noy_null_constraint	roman.batygin@mail.ru	db/changelog/v28-added-code-column-to-tfa-code-table.xml	2023-06-30 21:50:45.531386	81	EXECUTED	8:5cec4df784de9ba797f7ddea98c7a7e7	addNotNullConstraint columnName=authentication, tableName=tfa_code		\N	3.7.0	schema	\N	8136641946
\.


--
-- TOC entry 3154 (class 0 OID 16713)
-- Dependencies: 200
-- Data for Name: databasechangeloglock; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.databasechangeloglock (id, locked, lockgranted, lockedby) FROM stdin;
1	f	\N	\N
\.


--
-- TOC entry 3160 (class 0 OID 16870)
-- Dependencies: 206
-- Data for Name: oauth_access_token; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.oauth_access_token (token_id, token, authentication_id, user_name, client_id, authentication, refresh_token) FROM stdin;
\.


--
-- TOC entry 3163 (class 0 OID 16890)
-- Dependencies: 209
-- Data for Name: oauth_approvals; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.oauth_approvals (userid, clientid, scope, status, expiresat, lastmodifiedat) FROM stdin;
\.


--
-- TOC entry 3158 (class 0 OID 16854)
-- Dependencies: 204
-- Data for Name: oauth_client_details; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.oauth_client_details (client_id, resource_ids, client_secret, scope, authorized_grant_types, web_server_redirect_uri, authorities, access_token_validity, refresh_token_validity, additional_information, autoapprove) FROM stdin;
eca_web	\N	{bcrypt}$2a$10$sVFy6rEToUdmWpMn3EIp3.TOk9Jg7z0HLmRuTq.s7U5.sX3L5ZKXu	web	password,refresh_token,tfa_code	\N	\N	1800	2592000	\N	true
swagger	\N	{bcrypt}$2a$10$uuX3KZ/8vpTKPz4B3sbvkOdJ7jrAezgk4eq.kdQXDhaQnNmbjEuRG	web	password,refresh_token	\N	\N	1800	2592000	\N	true
external-api	\N	{bcrypt}$2a$10$fHGMvUF9W4uHnWp8Sm6nwODwwwO.7qeWFLb4I7mja3tiuI4EP.R1i	external-api	client_credentials	\N	\N	2592000	\N	\N	true
eca_service_tech	\N	{bcrypt}$2a$10$XooFEngMQDIRZDyLyBv86OYwVXice5KdGv5SNxJp5OMgxoVI0FKt6	internal-api	client_credentials	\N	\N	2592000	\N	\N	true
\.


--
-- TOC entry 3159 (class 0 OID 16862)
-- Dependencies: 205
-- Data for Name: oauth_client_token; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.oauth_client_token (token_id, token, authentication_id, user_name, client_id) FROM stdin;
\.


--
-- TOC entry 3162 (class 0 OID 16884)
-- Dependencies: 208
-- Data for Name: oauth_code; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.oauth_code (code, authentication) FROM stdin;
\.


--
-- TOC entry 3161 (class 0 OID 16878)
-- Dependencies: 207
-- Data for Name: oauth_refresh_token; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.oauth_refresh_token (token_id, token, authentication) FROM stdin;
\.


--
-- TOC entry 3169 (class 0 OID 16931)
-- Dependencies: 215
-- Data for Name: reset_password_request; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.reset_password_request (id, token, expire_date, reset_date, user_id) FROM stdin;
\.


--
-- TOC entry 3177 (class 0 OID 17022)
-- Dependencies: 223
-- Data for Name: retry_request; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.retry_request (id, request_type, request_id, request, tx_id, retries, max_retries, created_at, retry_at) FROM stdin;
\.


--
-- TOC entry 3165 (class 0 OID 16898)
-- Dependencies: 211
-- Data for Name: role_entity; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.role_entity (id, role_name, description) FROM stdin;
1	ROLE_SUPER_ADMIN	Администратор
2	ROLE_ECA_USER	Пользователь
\.


--
-- TOC entry 3181 (class 0 OID 17062)
-- Dependencies: 227
-- Data for Name: tfa_code; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tfa_code (id, token, expire_date, authentication, user_id, code) FROM stdin;
\.


--
-- TOC entry 3157 (class 0 OID 16846)
-- Dependencies: 203
-- Data for Name: user_entity; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_entity (id, login, password, creation_date, email, first_name, tfa_enabled, password_change_date, last_name, middle_name, locked, force_change_password, push_enabled) FROM stdin;
1	admin	{bcrypt}$2a$10$yI5atkieI.kjEPiau/slJe80YlVR.0lsYCHCxcvJVBarbwuAguGEW	2023-06-30 21:50:42.306721	roman.batygin@mail.ru	Роман	f	\N	Батыгин	Игоревич	f	f	t
\.


--
-- TOC entry 3171 (class 0 OID 16946)
-- Dependencies: 217
-- Data for Name: user_photo; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_photo (id, file_name, file_extension, photo, user_id) FROM stdin;
\.


--
-- TOC entry 3166 (class 0 OID 16903)
-- Dependencies: 212
-- Data for Name: user_role; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_role (user_id, role_id) FROM stdin;
1	1
\.


--
-- TOC entry 3188 (class 0 OID 0)
-- Dependencies: 224
-- Name: change_email_request_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.change_email_request_id_seq', 1, false);


--
-- TOC entry 3189 (class 0 OID 0)
-- Dependencies: 218
-- Name: change_password_request_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.change_password_request_id_seq', 1, false);


--
-- TOC entry 3190 (class 0 OID 0)
-- Dependencies: 213
-- Name: hibernate_sequence; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.hibernate_sequence', 2, false);


--
-- TOC entry 3191 (class 0 OID 0)
-- Dependencies: 214
-- Name: reset_password_request_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.reset_password_request_id_seq', 1, false);


--
-- TOC entry 3192 (class 0 OID 0)
-- Dependencies: 210
-- Name: role_entity_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.role_entity_id_seq', 1, false);


--
-- TOC entry 3193 (class 0 OID 0)
-- Dependencies: 226
-- Name: tfa_code_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tfa_code_id_seq', 1, false);


--
-- TOC entry 3194 (class 0 OID 0)
-- Dependencies: 202
-- Name: user_entity_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_entity_id_seq', 1, true);


--
-- TOC entry 3195 (class 0 OID 0)
-- Dependencies: 216
-- Name: user_photo_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_photo_id_seq', 1, false);


--
-- TOC entry 3000 (class 2606 OID 16993)
-- Name: audit_code audit_code_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.audit_code
    ADD CONSTRAINT audit_code_pkey PRIMARY KEY (id);


--
-- TOC entry 3002 (class 2606 OID 17013)
-- Name: audit_event_template audit_event_template_code_id_event_type_unique_index; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.audit_event_template
    ADD CONSTRAINT audit_event_template_code_id_event_type_unique_index UNIQUE (audit_code_id, event_type);


--
-- TOC entry 3004 (class 2606 OID 17006)
-- Name: audit_event_template audit_event_template_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.audit_event_template
    ADD CONSTRAINT audit_event_template_pkey PRIMARY KEY (id);


--
-- TOC entry 2998 (class 2606 OID 16984)
-- Name: audit_group audit_group_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.audit_group
    ADD CONSTRAINT audit_group_pkey PRIMARY KEY (id);


--
-- TOC entry 3008 (class 2606 OID 17041)
-- Name: change_email_request change_email_request_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.change_email_request
    ADD CONSTRAINT change_email_request_pkey PRIMARY KEY (id);


--
-- TOC entry 3010 (class 2606 OID 17043)
-- Name: change_email_request change_email_request_token_unique_index; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.change_email_request
    ADD CONSTRAINT change_email_request_token_unique_index UNIQUE (token);


--
-- TOC entry 2994 (class 2606 OID 16968)
-- Name: change_password_request change_password_request_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.change_password_request
    ADD CONSTRAINT change_password_request_pkey PRIMARY KEY (id);


--
-- TOC entry 2996 (class 2606 OID 16970)
-- Name: change_password_request change_password_request_token_unique_index; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.change_password_request
    ADD CONSTRAINT change_password_request_token_unique_index UNIQUE (token);


--
-- TOC entry 2968 (class 2606 OID 16717)
-- Name: databasechangeloglock databasechangeloglock_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.databasechangeloglock
    ADD CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (id);


--
-- TOC entry 2970 (class 2606 OID 16928)
-- Name: user_entity email_unique_index; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_entity
    ADD CONSTRAINT email_unique_index UNIQUE (email);


--
-- TOC entry 2972 (class 2606 OID 16926)
-- Name: user_entity login_unique_index; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_entity
    ADD CONSTRAINT login_unique_index UNIQUE (login);


--
-- TOC entry 2980 (class 2606 OID 16877)
-- Name: oauth_access_token oauth_access_token_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_access_token
    ADD CONSTRAINT oauth_access_token_pkey PRIMARY KEY (authentication_id);


--
-- TOC entry 2976 (class 2606 OID 16861)
-- Name: oauth_client_details oauth_client_details_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_client_details
    ADD CONSTRAINT oauth_client_details_pkey PRIMARY KEY (client_id);


--
-- TOC entry 2978 (class 2606 OID 16869)
-- Name: oauth_client_token oauth_client_token_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_client_token
    ADD CONSTRAINT oauth_client_token_pkey PRIMARY KEY (authentication_id);


--
-- TOC entry 2986 (class 2606 OID 16907)
-- Name: user_role pk_user_role; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_role
    ADD CONSTRAINT pk_user_role PRIMARY KEY (user_id, role_id);


--
-- TOC entry 2988 (class 2606 OID 16935)
-- Name: reset_password_request reset_password_request_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reset_password_request
    ADD CONSTRAINT reset_password_request_pkey PRIMARY KEY (id);


--
-- TOC entry 2990 (class 2606 OID 16937)
-- Name: reset_password_request reset_password_request_token_unique_index; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reset_password_request
    ADD CONSTRAINT reset_password_request_token_unique_index UNIQUE (token);


--
-- TOC entry 3006 (class 2606 OID 17031)
-- Name: retry_request retry_request_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.retry_request
    ADD CONSTRAINT retry_request_pkey PRIMARY KEY (id);


--
-- TOC entry 2982 (class 2606 OID 16902)
-- Name: role_entity role_entity_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_entity
    ADD CONSTRAINT role_entity_pkey PRIMARY KEY (id);


--
-- TOC entry 2984 (class 2606 OID 16924)
-- Name: role_entity role_name_unique_index; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_entity
    ADD CONSTRAINT role_name_unique_index UNIQUE (role_name);


--
-- TOC entry 3012 (class 2606 OID 17069)
-- Name: tfa_code tfa_code_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tfa_code
    ADD CONSTRAINT tfa_code_pkey PRIMARY KEY (id);


--
-- TOC entry 3014 (class 2606 OID 17071)
-- Name: tfa_code tfa_code_token_unique_index; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tfa_code
    ADD CONSTRAINT tfa_code_token_unique_index UNIQUE (token);


--
-- TOC entry 2974 (class 2606 OID 16853)
-- Name: user_entity user_entity_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_entity
    ADD CONSTRAINT user_entity_pkey PRIMARY KEY (id);


--
-- TOC entry 2992 (class 2606 OID 16953)
-- Name: user_photo user_photo_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_photo
    ADD CONSTRAINT user_photo_pkey PRIMARY KEY (id);


--
-- TOC entry 3020 (class 2606 OID 16994)
-- Name: audit_code fk_audit_code_group_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.audit_code
    ADD CONSTRAINT fk_audit_code_group_id FOREIGN KEY (audit_group_id) REFERENCES public.audit_group(id);


--
-- TOC entry 3021 (class 2606 OID 17007)
-- Name: audit_event_template fk_audit_event_template_code_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.audit_event_template
    ADD CONSTRAINT fk_audit_event_template_code_id FOREIGN KEY (audit_code_id) REFERENCES public.audit_code(id);


--
-- TOC entry 3022 (class 2606 OID 17044)
-- Name: change_email_request fk_change_email_request_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.change_email_request
    ADD CONSTRAINT fk_change_email_request_user_id FOREIGN KEY (user_id) REFERENCES public.user_entity(id);


--
-- TOC entry 3019 (class 2606 OID 16971)
-- Name: change_password_request fk_change_password_request_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.change_password_request
    ADD CONSTRAINT fk_change_password_request_user_id FOREIGN KEY (user_id) REFERENCES public.user_entity(id);


--
-- TOC entry 3017 (class 2606 OID 16938)
-- Name: reset_password_request fk_reset_password_request_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reset_password_request
    ADD CONSTRAINT fk_reset_password_request_user_id FOREIGN KEY (user_id) REFERENCES public.user_entity(id);


--
-- TOC entry 3023 (class 2606 OID 17072)
-- Name: tfa_code fk_tfa_code_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tfa_code
    ADD CONSTRAINT fk_tfa_code_user_id FOREIGN KEY (user_id) REFERENCES public.user_entity(id);


--
-- TOC entry 3018 (class 2606 OID 16954)
-- Name: user_photo fk_user_photo_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_photo
    ADD CONSTRAINT fk_user_photo_user_id FOREIGN KEY (user_id) REFERENCES public.user_entity(id);


--
-- TOC entry 3016 (class 2606 OID 16913)
-- Name: user_role fk_user_role_role_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_role
    ADD CONSTRAINT fk_user_role_role_id FOREIGN KEY (role_id) REFERENCES public.role_entity(id);


--
-- TOC entry 3015 (class 2606 OID 16908)
-- Name: user_role fk_user_role_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_role
    ADD CONSTRAINT fk_user_role_user_id FOREIGN KEY (user_id) REFERENCES public.user_entity(id);


-- Completed on 2023-06-30 22:15:13

--
-- PostgreSQL database dump complete
--

